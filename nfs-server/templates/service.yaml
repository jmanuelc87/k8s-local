apiVersion: v1
kind: Service
metadata:
  name: nfs-server-service
  namespace: nfs-server
  annotations:
    metallb.io/address-pool: default-pool
spec:
  allocateLoadBalancerNodePorts: false
  type: LoadBalancer
  selector:
    app: nfs-server
  ports:
    - protocol: TCP
      port: 2049
      targetPort: 2049
      name: nfs1

    - protocol: UDP
      port: 2049
      targetPort: 2049
      name: nfs2

    - protocol: TCP
      port: 111
      targetPort: 111
      name: nfs3

    - protocol: UDP
      port: 111
      targetPort: 111
      name: nfs4